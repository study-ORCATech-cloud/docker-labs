# TODO: Implement a multi-stage build for a production-ready application
# HINT: Use a builder stage for dependencies and a runtime stage for the final image

# First stage
# TODO: Choose a base image for the builder stage
# HINT: Use a Python image appropriate for building dependencies

# TODO: Set up the working directory
# HINT: Create a dedicated directory for the application

# TODO: Install build dependencies needed for compiling packages
# HINT: Only install what's absolutely necessary and clean up afterwards

# TODO: Leverage Docker layer caching by separating dependencies from code
# HINT: Copy and install requirements before copying application code

# TODO: Set up a virtual environment for isolation and cleaner dependencies
# HINT: Create and activate a Python virtual environment

# Second stage
# TODO: Create a minimal runtime image using multi-stage build
# HINT: Start a new stage with a clean base image

# TODO: Implement security best practices for containers
# HINT: Create and use a non-root user for running the application

# TODO: Install only runtime dependencies needed for the application
# HINT: Install minimal packages required for the application to run

# TODO: Set up the working directory
# HINT: Create a dedicated directory for the application

# TODO: Copy artifacts from the builder stage
# HINT: Only copy what's needed from the builder stage

# TODO: Copy application code into the image
# HINT: Copy all necessary application files

# TODO: Configure proper permissions and directories
# HINT: Create necessary directories and set appropriate permissions

# TODO: Configure the container to run as a non-root user
# HINT: Switch to the previously created non-root user

# TODO: Set environment variables for the application
# HINT: Configure the Python path and other necessary environment variables

# TODO: Set build arguments for environment configuration
# HINT: Allow customization of the environment at build time

# TODO: Expose the port the application will run on
# HINT: Document the port that should be published

# TODO: Define the command to start the application
# HINT: Use a production-ready server like Gunicorn 